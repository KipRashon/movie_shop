{"ast":null,"code":"import _objectSpread from \"E:\\\\Workspaces\\\\react\\\\movie_shop\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"E:\\\\Workspaces\\\\react\\\\movie_shop\\\\src\\\\Context.js\";\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nconst productContext = React.createContext(); //Provider and the consumer\n\nclass ProductProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      originalMovies: null,\n      movies: null,\n      selectedMovie: null\n    };\n\n    this.switchToMovie = id => {\n      const originalMovies = this.state.originalMovies;\n      const selected = originalMovies.find(item => item.id == id);\n      this.setState({\n        selectedMovie: selected\n      });\n    };\n\n    this.displayMovies = () => {\n      const originalMovies = this.state.originalMovies;\n      let names = originalMovies.map(item => {\n        return React.createElement(\"div\", {\n          className: \"col-md-6 col-xl-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"product-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"product-detail product-top\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \" btn-circle  float-right \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, \" \", React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, item.vote_average), \" \")), React.createElement(\"a\", {\n          className: \"product-media\",\n          href: \"#\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: \"https://image.tmdb.org/t/p/original/\" + item.poster_path,\n          alt: \"product\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"product-detail\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"#\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, item.title)), React.createElement(\"div\", {\n          className: \"product-price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(\"s\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, item.release_date), \" \"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, item.overview.substring(0, 50) + \"....\")), React.createElement(Link, {\n          to: \"/cartdetails\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"product-detail text-left\",\n          onClick: () => this.switchToMovie(item.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, \"More Info\"))));\n      });\n      this.setState({\n        movies: names\n      });\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"https://cors-anywhere.herokuapp.com/https://api.themoviedb.org/3/discover/movie?page=1&include_video=false&include_adult=false&sort_by=popularity.desc&language=en-US&api_key=9ad5bd15eeb446ea9ef27a385d9fd16f\", {\n      headers: {\n        \"origin\": \"*\",\n        \"methods\": \"GET,HEAD,PUT,PATCH,POST,DELETE\",\n        \"preflightContinue\": false,\n        \"optionsSuccessStatus\": 204\n      }\n    }).then(data => {\n      return data.json();\n    }).then(res => {\n      const results = res.results;\n      this.setState(() => {\n        return {\n          originalMovies: results\n        };\n      });\n      this.displayMovies();\n    });\n  }\n\n  render() {\n    return React.createElement(productContext.Provider, {\n      value: _objectSpread({}, this.state),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, this.props.children);\n  }\n\n}\n\nconst Consumer = productContext.Consumer;\nexport { ProductProvider, Consumer };","map":{"version":3,"sources":["E:/Workspaces/react/movie_shop/src/Context.js"],"names":["React","Component","Link","productContext","createContext","ProductProvider","state","originalMovies","movies","selectedMovie","switchToMovie","id","selected","find","item","setState","displayMovies","names","map","vote_average","poster_path","title","release_date","overview","substring","componentDidMount","fetch","headers","then","data","json","res","results","render","props","children","Consumer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n\r\n\r\nconst productContext = React.createContext();\r\n    //Provider and the consumer\r\n\r\nclass ProductProvider extends Component {\r\n\r\n    state ={\r\n        originalMovies:null,\r\n        movies:null,\r\n        selectedMovie:null,\r\n\r\n    }\r\n\r\n    switchToMovie = (id)=>{\r\n        \r\n        const {originalMovies}= this.state;\r\n        const selected = originalMovies.find( item => item.id == id );\r\n       \r\n        this.setState({selectedMovie:selected});\r\n    }\r\n    componentDidMount(){\r\n        fetch(\"https://cors-anywhere.herokuapp.com/https://api.themoviedb.org/3/discover/movie?page=1&include_video=false&include_adult=false&sort_by=popularity.desc&language=en-US&api_key=9ad5bd15eeb446ea9ef27a385d9fd16f\",\r\n        {\r\n          headers: {\r\n           \r\n              \"origin\": \"*\",\r\n              \"methods\": \"GET,HEAD,PUT,PATCH,POST,DELETE\",\r\n              \"preflightContinue\": false,\r\n              \"optionsSuccessStatus\": 204\r\n          \r\n          }\r\n        }\r\n        )\r\n        .then(data =>{\r\n            return data.json();\r\n        })\r\n        .then(res =>{\r\n            const {results}= res;\r\n           this.setState(()=>{\r\n                return {originalMovies:results}\r\n           });\r\n           \r\n           this.displayMovies();\r\n        })\r\n    }\r\n\r\n    displayMovies = ()=>{\r\n        const {originalMovies}= this.state;\r\n        let names = originalMovies.map((item)=>{\r\n            return(\r\n               \r\n                \r\n                <div className=\"col-md-6 col-xl-4\">\r\n                <div className=\"product-3\">\r\n                    <div className=\"product-detail product-top\" >\r\n                    <button className=\" btn-circle  float-right \"> <span>{item.vote_average}</span> </button>\r\n                    </div>\r\n                  <a className=\"product-media\" href=\"#\">\r\n                              <img src={\"https://image.tmdb.org/t/p/original/\"+item.poster_path} alt=\"product\"/>\r\n                  </a>\r\n  \r\n                  <div className=\"product-detail\">\r\n                    <h6><a href=\"#\">{item.title}</a></h6>\r\n                    <div className=\"product-price\"><s>{item.release_date}</s> </div>\r\n                    <p>{item.overview.substring(0, 50)+\"....\"}</p>\r\n                  </div>\r\n                  <Link to='/cartdetails'>\r\n               \r\n                  <div className=\"product-detail text-left\"  onClick={()=>this.switchToMovie(item.id)}>\r\n                    More Info\r\n                  </div>\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n              \r\n            )\r\n        });\r\n        \r\n        \r\n        this.setState({movies:names});\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <productContext.Provider value ={{\r\n                ...this.state,\r\n            \r\n            }}>\r\n                \r\n                {this.props.children}\r\n            </productContext.Provider>\r\n        )\r\n    }\r\n}\r\nconst Consumer = productContext.Consumer;\r\n\r\n\r\nexport  {ProductProvider,Consumer};"]},"metadata":{},"sourceType":"module"}